import"../chunks/CWj6FrbW.js";import{p as J,o as K,i as a,m as Y,j as ra,l as B,k as V,n as Z,q as oa,f as n,d as f,u as sa,r as m,t as g,v as ia,b as s,c as Q,a as W,s as w,w as la,x as na,$ as va,y as G,e as L,z as da}from"../chunks/BkpUdax-.js";import{p as M,i as d}from"../chunks/DZyYZwyv.js";import{s as ca,a as k,e as ma,i as _a}from"../chunks/DP4gmLKk.js";import{P as ua,S as pa,c as fa,a as ga}from"../chunks/CdnVzT6N.js";import{_ as ha,b as ba}from"../chunks/C5lYOAdK.js";import{i as xa}from"../chunks/C9doukUu.js";var ya=n('<source type="application/x-mpegURL"/> <source type="video/mp4"/>',1),wa=n('<source type="video/mp4"/>'),ka=n('<video loop playsinline="" controls preload="metadata"><!> <track kind="captions" src="" label="Captions"/> Your browser does not support the video tag.</video>',2);function ja(q,v){J(v,!1);const H=Y(),r=Y();let h=M(v,"hlsUrl",8),U=M(v,"posterImage",8,null),T=M(v,"classes",8,"w-full h-auto rounded object-cover mb-4"),C=M(v,"shouldAutoplay",8,!1),b=Y();K(async()=>{if(a(r)&&a(b)){const{default:i}=await ha(async()=>{const{default:u}=await import("../chunks/CPSIE5Ea.js");return{default:u}},[],import.meta.url);if(i.isSupported()){const u=new i;u.loadSource(h()),u.attachMedia(a(b))}else a(b).canPlayType("application/vnd.apple.mpegurl")&&ra(b,a(b).src=h())}}),B(()=>Z(h()),()=>{V(H,h().replace(".m3u8",".mp4"))}),B(()=>Z(h()),()=>{V(r,h()&&h().includes(".m3u8"))}),oa(),xa();var _=ka(),z=f(_);{var D=i=>{var u=ya(),R=W(u),N=w(R,2);g(()=>{k(R,"src",h()),k(N,"src",a(H))}),s(i,u)},F=i=>{var u=wa();g(()=>k(u,"src",a(H))),s(i,u)};d(z,i=>{a(r)?i(D):i(F,!1)})}sa(3),m(_),ba(_,i=>V(b,i),()=>a(b)),g(()=>{_.autoplay=C(),_.muted=!C(),ca(_,1,T()),k(_,"poster",(Z(U()),ia(()=>{var i;return((i=U())==null?void 0:i.url)||""})))}),s(q,_),Q()}var Pa=n('<meta name="description"/>'),Ua=n('<meta property="og:title"/>'),Aa=n('<meta property="og:image"/>'),Ia=n("<!> <!> <!>",1),Ha=n('<div class="mb-12"><!></div>'),Ra=n('<p class="text-xl text-gray-600 mb-6"> </p>'),Sa=n('<div class="prose prose-lg max-w-none"><!></div>'),Ea=n('<h3 class="font-semibold text-gray-800 mb-2"> </h3>'),La=n('<a class="text-blue-600 hover:underline" target="_blank" rel="noopener noreferrer"> </a>'),Ta=n('<p class="text-gray-600"><!></p>'),Ca=n('<div class="bg-gray-50 p-4 rounded-lg"><!> <!></div>'),Da=n('<section class="mb-12"><h2 class="text-2xl font-bold mb-6">Credits</h2> <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div></section>'),Ma=n('<div class="mx-auto px-3"><!> <div class="mb-12"><h1 class="text-4xl md:text-6xl font-bold mb-4"> </h1> <!> <!></div> <!> <!></div>');function Za(q,v){J(v,!0);const H=G(()=>v.data.project),r=G(()=>a(H).data);let h=na(!1);K(()=>{const e=document.referrer,t=window.location.host;V(h,!!(e&&new URL(e).host===t))});var U=Ma();la(e=>{var t=Ia(),x=W(t);{var S=o=>{var c=Pa();g(()=>k(c,"content",v.data.meta_description)),s(o,c)};d(x,o=>{v.data.meta_description&&o(S)})}var l=w(x,2);{var p=o=>{var c=Ua();g(()=>k(c,"content",v.data.meta_title)),s(o,c)};d(l,o=>{v.data.meta_title&&o(p)})}var A=w(l,2);{var E=o=>{var c=Aa();g(()=>k(c,"content",v.data.meta_image)),s(o,c)};d(A,o=>{v.data.meta_image&&o(E)})}g(()=>va.title=v.data.title),s(e,t)});var T=f(U);{var C=e=>{var t=Ha(),x=f(t);{var S=p=>{ja(p,{get hlsUrl(){return a(r).main_video_url},get posterImage(){return a(r).main_image},classes:"w-full h-auto rounded-lg object-cover aspect-video",get shouldAutoplay(){return a(h)}})},l=(p,A)=>{{var E=o=>{ga(o,{get field(){return a(r).main_image},class:"w-full h-auto rounded-lg object-cover"})};d(p,o=>{var c;(c=a(r).main_image)!=null&&c.url&&o(E)},A)}};d(x,p=>{a(r).main_video_url?p(S):p(l,!1)})}m(t),s(e,t)};d(T,e=>{var t;(a(r).main_video_url||(t=a(r).main_image)!=null&&t.url)&&e(C)})}var b=w(T,2),_=f(b),z=f(_,!0);m(_);var D=w(_,2);{var F=e=>{var t=Ra(),x=f(t,!0);m(t),g(()=>L(x,a(r).client)),s(e,t)};d(D,e=>{a(r).client&&e(F)})}var i=w(D,2);{var u=e=>{var t=Sa(),x=f(t);ua(x,{get field(){return a(r).description}}),m(t),s(e,t)};d(i,e=>{a(r).description&&e(u)})}m(b);var R=w(b,2);{var N=e=>{var t=Da(),x=w(f(t),2);ma(x,21,()=>a(r).credits,_a,(S,l)=>{var p=Ca(),A=f(p);{var E=j=>{var y=Ea(),O=f(y,!0);m(y),g(()=>L(O,a(l).label)),s(j,y)};d(A,j=>{a(l).label&&j(E)})}var o=w(A,2);{var c=j=>{var y=Ta(),O=f(y);{var aa=I=>{var P=La(),ta=f(P,!0);m(P),g(()=>{k(P,"href",a(l).person.data.link.url),L(ta,a(l).person.data.name)}),s(I,P)},ea=I=>{var P=da();g(()=>L(P,a(l).person.data.name)),s(I,P)};d(O,I=>{a(l).person.data.link&&"url"in a(l).person.data.link&&a(l).person.data.link.url?I(aa):I(ea,!1)})}m(y),s(j,y)};d(o,j=>{var y;a(l).person&&"data"in a(l).person&&((y=a(l).person.data)!=null&&y.name)&&j(c)})}m(p),s(S,p)}),m(x),m(t),s(e,t)};d(R,e=>{a(r).credits&&a(r).credits.length>0&&e(N)})}var X=w(R,2);{var $=e=>{pa(e,{get slices(){return a(r).slices},get components(){return fa}})};d(X,e=>{a(r).slices&&a(r).slices.length>0&&e($)})}m(U),g(()=>L(z,a(r).title)),s(q,U),Q()}export{Za as component};
